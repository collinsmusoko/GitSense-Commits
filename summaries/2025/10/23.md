# Activity Summary for 23/10/2025

## 09:27:49
The provided log details changes to a Vue component, `EmailTemplatesConfigurator.vue`, across two different project paths: `/Users/collin/projects/binhendi/binhendi-admin/` and `/Users/collin/projects/binhendi/binhendi-mcs-admin/`.

**File-Specific Updates:**

*   **`/Users/collin/projects/binhendi/binhendi-admin/components/configurations/EmailTemplatesConfigurator.vue`**:
    *   Across the timestamps 23/10/2025, 08:42:32, 08:43:05, 08:43:44, and 08:46:03, the content of this file remained **unchanged**. The entries consistently show a Vue component for managing email notification templates. It includes a data table for listing templates, dialogs for adding/editing and viewing templates, and an edit warning dialog with a countdown. The template form supports fields like title, category, subcategory, description, recipients (To, CC, BCC), subject, and body (using an EJS Rich Text Editor). It also defines a comprehensive list of email categories and subcategories covering Leave, Letter, Claim, WFH, Attendance, Personal Document Expiry, Company Document Expiry, and Employee Engagement.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/EmailTemplatesConfigurator.vue`**:
    *   This file also manages email notification templates with the same UI and functionality as the `binhendi-admin` version.
    *   **Timestamp 23/10/2025, 08:47:50**: Initial state for this project path, functionally similar to the `binhendi-admin` version, but with the `addNewTemplateDialog`'s cancel button explicitly closing the dialog (`@click="addNewTemplateDialog = false"`). The `data()` properties `ccOptions` and `bccOptions` were not explicitly initialized as empty arrays here.
    *   **Timestamp 23/10/2025, 08:48:53**: A functional change was introduced in the `addNewTemplateDialog` where the cancel button's click handler was updated from directly closing the dialog to calling a `cancelEdit` method (`@click="cancelEdit"`).
    *   **Timestamp 23/10/2025, 08:49:54**: This entry appears to **revert** the `addNewTemplateDialog` cancel button change back to `@click="addNewTemplateDialog = false"`. However, it **adds** the initialization of `ccOptions:[]` and `bccOptions:[]` to the component's data properties.
    *   **Timestamp 23/10/2025, 08:50:36**: The `addNewTemplateDialog` cancel button change is **re-applied**, reverting to `@click="cancelEdit"`. The `ccOptions` and `bccOptions` data initializations are retained.
    *   **Timestamps 23/10/2025, 08:56:35, 08:57:53, 08:59:23**: The content across these timestamps for this file remained **unchanged** from the state at 08:50:36.

**Timestamps of Significant Changes:**

*   **23/10/2025, 08:48:53**: Introduction of `cancelEdit` method for `addNewTemplateDialog`'s cancel action in the `binhendi-mcs-admin` project.
*   **23/10/2025, 08:49:54**: Addition of `ccOptions` and `bccOptions` data properties and a temporary revert of the cancel button logic in `binhendi-mcs-admin`.
*   **23/10/2025, 08:50:36**: Re-application of the `cancelEdit` method for the cancel button and persistence of `ccOptions` and `bccOptions` data properties in `binhendi-mcs-admin`.

**Patterns or Recurring Elements:**

*   **Code Duplication/Reuse:** The `EmailTemplatesConfigurator.vue` component is essentially identical in its structure and core functionality across both `/binhendi-admin` and `/binhendi-mcs-admin` project paths, suggesting a common component or a copy-paste practice.
*   **Syncfusion Rich Text Editor:** Both files consistently utilize `@syncfusion/ej2-vue-richtexteditor` for the email body input, including the registration of a Syncfusion license key. The license key itself is a long string that appears identically in every logged entry.
*   **Standardized Email Categories:** The `categoryClassifications` data structure, defining email types for "Leave", "Letter", "Claim", "WFH", "Attendance", "Personal Document Expiry", "Company Document Expiry", and "Employee Engagement", is identical across all logged versions of the file, indicating a shared business logic or configuration.
*   **Vuetify Components:** The reliance on Vuetify (`v-card`, `v-data-table`, `v-dialog`, `v-select`, etc.) for UI elements is a consistent pattern.
*   **Interactive Dialogs:** The use of multiple `v-dialog` components for "Add/Edit", "View", and "Edit Warning" functionality is a repeating structural pattern.
*   **Minor Iterative Fixes:** The changes in `binhendi-mcs-admin` regarding the `addNewTemplateDialog`'s cancel button handler and the explicit declaration of `ccOptions`/`bccOptions` suggest small, iterative adjustments or corrections to component behavior and data initialization.

## 10:27:54
The provided log details changes to the `EmailTemplatesConfigurator.vue` component across two different projects: `/Users/collin/projects/binhendi/binhendi-admin` and `/Users/collin/projects/binhendi/binhendi-mcs-admin`.

**File-Specific Updates:**

1.  **`/Users/collin/projects/binhendi/binhendi-admin/components/configurations/EmailTemplatesConfigurator.vue`**
    *   **Timestamp:** The file was logged four times between 23/10/2025, 08:42:32 and 23/10/2025, 08:46:03.
    *   **Changes:** Within the provided snippets, no discernible code changes were observed across these entries. The content remained identical, indicating either no modifications, or changes that were outside the truncated log, or rapid reverts.

2.  **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/EmailTemplatesConfigurator.vue`**
    *   **Timestamp:** This file saw multiple updates between 23/10/2025, 08:47:50 and 23/10/2025, 08:59:23.
    *   **Key Changes at 08:47:50:**
        *   The "Cancel" action for the `addNewTemplateDialog` was modified to directly close the dialog (`addNewTemplateDialog = false`) instead of calling the `cancelEdit` method.
        *   Several data properties related to the `editWarningDialog` (e.g., `isEditing`, `editingIndex`, `editingTemplate`, `countdown`, `countdownInterval`) were removed, suggesting an attempt to streamline or remove specific editing state management.
        *   A specific subcategory value within `categoryClassifications` for 'Claim' -> 'Request Email (Approver)' was updated from `claim_request_email_approver` to `claim_request_new_approver`.
        *   The 'Employee Engagement' category was expanded to include new subcategories: 'New Joiner' and 'Exit'.
        *   An empty `toOptions:[]` array was added to the component's data.
    *   **Key Changes at 08:48:53 (Partial Revert and Addition):**
        *   The "Cancel" action for the `addNewTemplateDialog` was **reverted** to call the `cancelEdit` method, undoing the previous change.
        *   The `editWarningDialog` and its associated data properties (removed in the prior timestamp) were **re-introduced**, indicating a revert of that specific refactoring attempt.
        *   New empty array properties `ccOptions:[]` and `bccOptions:[]` were added to the component's data.
        *   The updates to `categoryClassifications` (claim subcategory and new employee engagement subcategories) introduced at 08:47:50 **persisted**.
    *   **Further entries (08:49:54, 08:50:36, 08:56:35, 08:57:53, 08:59:23):** No additional changes were observed in the provided snippets for these later timestamps; the content remained consistent with the state at 08:48:53.

**Patterns and Recurring Elements:**

*   **Component Duplication/Reuse:** The `EmailTemplatesConfigurator.vue` component exists in seemingly identical forms in two different admin project paths (`binhendi-admin` and `binhendi-mcs-admin`), suggesting component reuse or duplication across projects.
*   **Email Template Management Focus:** The component is entirely dedicated to managing email notification templates, including defining their title, category, subcategory, recipients (To, CC, BCC), subject, and body.
*   **UI Frameworks:** The component extensively uses Vuetify (`v-card`, `v-data-table`, `v-dialog`, `v-btn`, `v-text-field`, `v-select`, `v-textarea`, `v-icon`) for its user interface.
*   **Rich Text Editor Integration:** It integrates `ejs-richtexteditor` from Syncfusion for composing email bodies, indicated by the `ejs-richtexteditor` component and its associated `registerLicense` call.
*   **Dynamic Categories:** The component defines a comprehensive list of `categoryClassifications` for email templates, covering various HR-related workflows such as Leave, Letter, Claim, WFH, Attendance, Personal Document Expiry, Company Document Expiry, and Employee Engagement. This list is dynamically used in `v-select` components.
*   **Dialog-based Interactions:** Key functionalities like adding new templates, viewing existing ones, and showing edit warnings are managed through `v-dialog` components.
*   **Syncfusion License:** A Syncfusion license key is consistently present at the beginning of the script section in all log entries, indicating the use of commercial UI components.
*   **Frequent Iteration/Reversion:** The changes in `binhendi-mcs-admin` show a pattern of modifications followed by quick reverts or further refinements, particularly around dialog management and state properties, suggesting an active development or debugging phase.

## 11:54:13
The logs show a series of updates primarily focused on two Vue.js components related to HR functionalities: `LetterTemplate.vue` for letter configuration and `requests.vue` for self-service requests, across two different project paths: `binhendi-mcs-admin` and `binhendi-admin`. A new JavaScript utility for pronoun handling was also introduced.

**File-Specific Updates:**

1.  **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/LetterTemplate.vue`**
    *   **Timestamp (Consistent):** `23/10/2025, 11:08:00`, `11:12:16`, `11:12:35`, `11:13:15`, `11:13:25`
    *   This component provides a comprehensive interface for managing letter templates. It includes tabs for "CREATE NEW LETTER," "CHOOSE EXISTING LETTER," and "Letter Key Hints." Users can configure various aspects of a letter request, such as:
        *   Defining letter type and subtype, with uniqueness validation.
        *   Options to allow hard copies, choose letter categories (multiple), and select date formats.
        *   A feature to display letters in the "Team Calendar" with a hint for `[fromDate]` and `[toDate]` placeholders.
        *   Functionality to limit the number of requests, specifying a `limit_period`, `request_limit`, and `limit_exceeded_action`.
        *   Buttons for PDF preview and "Before Approve Preview" which utilize a `CreateLetter` component for editing document content.
        *   A delete option for existing letter templates.
    *   Multiple log entries for this file show identical content, suggesting either repeated saves without material changes or a version control artifact.

2.  **`/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue`**
    *   **Timestamp (Consistent):** `23/10/2025, 11:08:05`, `11:24:08`, `11:24:20`
    *   This component handles a range of HR self-service requests for the `binhendi-admin` project.
    *   Users can select various request types (e.g., Leaves, Loan, Education, WFH, Claim, Letters, Passport Release) using a dropdown.
    *   A claim request tooltip provides specific guidelines, including that receipts are compulsory and file size should not exceed "2MB."
    *   The component displays a list of "All Requests" or "All Pending Requests" with a scroll-based loading mechanism.
    *   A "Team Calendar" is available specifically for leave and WFH requests, allowing navigation (prev/next month) and displaying event details (leave type, start/end dates).
    *   A "Letter Preview" section renders the content of selected letter requests.
    *   The content across these three timestamps is identical, indicating a stable version within this project path.

3.  **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/requests.vue`**
    *   **Timestamp (Significant Change):** `23/10/2025, 11:13:46`
    *   This entry introduces significant enhancements to the HR self-service requests component within the `binhendi-mcs-admin` project.
    *   **Key updates include:**
        *   **Increased Claim Attachment Limit:** The maximum receipt file size for claim requests was increased from "2MB" to "10MB."
        *   **New Request Types:** Added support for `Salary Advance`, `CreateTimeOffLieu`, and `CreateTripRequest` components, expanding the range of self-service options.
        *   **Enhanced LetterRequest Props:** The `LetterRequest` component now receives additional props like `referenceNumber`, `canRequestHardCopy`, and `selectedEmp`, suggesting richer integration or data handling for letters.
        *   **Flexible Team Calendar:** The Team Calendar logic was updated to be more dynamic (`(showInTeamCalendar || requestType?.toLowerCase().includes('leave'))`), enabling its display for more request types, including letters, not just leaves. The event display within the calendar menu also dynamically shows "Letter Type" or "Leave Type."
        *   A minor UI enhancement added the `eager` prop to an image element.

4.  **`/Users/collin/projects/binhendi/test-pronouns.js`**
    *   **Timestamp (New Feature):** `23/10/2025, 11:23:34`
    *   This new JavaScript file introduces a utility function `replaceContextAwarePronoun`.
    *   The function is designed to handle gender-specific pronoun replacements (e.g., `[Him/Her]`, `[His/Her]`, `[He/She]`) based on a provided gender (`male` or `female`).
    *   It intelligently capitalizes the pronoun when it appears at the beginning of a sentence, even if preceded by whitespace, punctuation, numbers, or list markers.
    *   The script includes self-contained test cases to verify the functionality, demonstrating its context-aware capitalization. This suggests a focus on improving the personalization and grammatical correctness of dynamically generated text, likely within letters or notifications.

**Timestamps of Significant Changes:**

*   **23/10/2025, 11:13:46:** This timestamp marks a substantial update to the `binhendi-mcs-admin/requests.vue` component, adding new functionalities and improving existing ones.
*   **23/10/2025, 11:23:34:** The introduction of `test-pronouns.js` signifies a new development effort towards context-aware text processing.

**Patterns or Recurring Elements:**

*   **Vue.js and Vuetify:** All UI-related files are Vue components heavily leveraging the Vuetify framework for design and functionality.
*   **Request-Driven System:** A core pattern is the handling of various types of user requests within the HR self-service module, from leaves and loans to letter generation.
*   **Administrative vs. User Interfaces:** The existence of similar `requests.vue` components in `binhendi-admin` and `binhendi-mcs-admin` suggests a separation of concerns, with `binhendi-mcs-admin` often receiving more advanced features or higher limits (e.g., 10MB vs 2MB attachment limit).
*   **Dynamic Document Generation:** The `LetterTemplate.vue` component and the new `test-pronouns.js` utility point to a strong emphasis on dynamic, configurable, and grammatically correct document and letter generation within the system.
*   **Calendar Integration:** The "Team Calendar" feature is a recurring element in self-service requests for visualizing time-based requests.
*   **Code Duplication/Stability:** The identical content across multiple timestamps for `LetterTemplate.vue` and `binhendi-admin/requests.vue` indicates periods of either no changes or very stable code, contrasted with the significant functional updates seen in `binhendi-mcs-admin/requests.vue`.

## 12:54:18
The logs highlight significant development activity across two distinct project paths: `/Users/collin/projects/binhendi/binhendi-mcs-admin/` and `/Users/collin/projects/binhendi/binhendi-admin/`, suggesting parallel development or a migration process. Most changes are concentrated on October 23, 2025.

**File-Specific Updates:**

1.  **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/LetterTemplate.vue`**
    *   **23/10/2025, 11:08:00**: A comprehensive letter template configuration interface was introduced. This component now supports creating new letter types and managing existing ones through a tabbed interface. Features include:
        *   Defining letter type, subtype (specifically for 'NOC'), category, and date format.
        *   Toggles for allowing hard copies, displaying letters in a "Team Calendar," and setting request limits (period, request count, and action for exceeding the limit).
        *   Functionality to preview PDF versions of letters (both current and "before approval"), delete templates, and save updates.
        *   The code was repeatedly committed without functional changes at **11:12:16, 11:12:35, 11:13:15**.

2.  **`/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue`**
    *   **23/10/2025, 11:08:05**: This component, part of the `binhendi-admin` project, handles various HR self-service requests. It conditionally renders specific sub-components for request types such as Leave, Loan, Education, WFH, Claims, Letters, and Passport Release. At this point, the instructions for claim requests specified a maximum receipt file size of **2MB**.

3.  **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/requests.vue`**
    *   **23/10/2025, 11:13:46**: This version, from the `binhendi-mcs-admin` project, received significant enhancements:
        *   The maximum receipt file size for claim requests was increased from **2MB to 10MB**.
        *   Support for new request types was added: "Salary Advance" (`CreateSalaryAdvance`), "Time Off Lieu" (`CreateTimeOffLieu`), and "Trip Request" (`CreateTripRequest`).
        *   The `LetterRequest` component was updated to accept new `referenceNumber` and `canRequestHardCopy` props.
        *   The Team Calendar logic was expanded to include `showInTeamCalendar`, allowing letters to be displayed on the calendar, with the calendar event details dynamically showing "Letter" or "Leave" type.
        *   Minor styling addition: `eager` prop added to a `v-img` component.
        *   The code was repeatedly committed without functional changes at **11:15:08, 11:15:28**.

4.  **`/Users/collin/projects/binhendi/test-pronouns.js`**
    *   **23/10/2025, 11:23:34**: A new JavaScript file was added. This script implements and tests a `replaceContextAwarePronoun` function. It dynamically replaces placeholders like `[Him/Her]` with the correct male or female pronoun, capitalizing it if the pronoun appears at the beginning of a sentence. This suggests a new feature for context-aware, dynamic text generation, likely for document or notification content.

5.  **`/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue`**
    *   **23/10/2025, 11:24:08**: This entry for the `binhendi-admin` project shows an older state compared to the `binhendi-mcs-admin` project. The claim receipt limit is back to **2MB**, and none of the new request types or calendar enhancements introduced in `binhendi-mcs-admin` are present. This indicates either a divergence of the two projects or a temporary rollback in `binhendi-admin`.
    *   The code was committed again without functional changes at **11:24:20**.

6.  **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/document-editor/wordeditor.vue`**
    *   **23/10/2025, 12:52:55**: A new Vue component was introduced to provide a rich document editing experience using Syncfusion's Document Editor. Key functionalities include:
        *   In-editor document content editing and renaming.
        *   Saving the document and exporting it as DOCX or PDF.
        *   A sidebar for inserting dynamic "merge fields" (text, table, image) into the document, with popups to add new merge fields.
        *   PDF download functionality leverages a backend API.
    *   **23/10/2025, 12:53:29**: A minor, likely debugging-related, change was made to a console log message within the `reloadTableData` function.

**Timestamps of Significant Changes:**

*   **23/10/2025, 11:08:00 - 11:13:15**: Initial implementation and minor iterations of the `LetterTemplate.vue` configuration component.
*   **23/10/2025, 11:13:46**: Major update to `requests.vue` in `binhendi-mcs-admin`, including new request types, increased file limits, and enhanced calendar integration.
*   **23/10/2025, 11:23:34**: Introduction of the `test-pronouns.js` script for context-aware text processing.
*   **23/10/2025, 11:24:08**: The `requests.vue` in `binhendi-admin` reverts or remains at an older version, contrasting with `binhendi-mcs-admin`.
*   **23/10/2025, 12:52:55 - 12:53:29**: Implementation and minor refinement of the `wordeditor.vue` component, introducing rich document editing capabilities.

**Patterns and Recurring Elements:**

*   **Vue.js and Vuetify**: All `.vue` files consistently use Vue.js with Vuetify components for UI development.
*   **HR Self-Service Focus**: A strong recurring theme is the enhancement and expansion of HR self-service functionalities, particularly around request management and document generation.
*   **Letter and Document Generation**: There's a significant focus on dynamic letter creation, editing, and output (PDF/DOCX) using merge fields, indicating a move towards automated, personalized document generation.
*   **Dynamic Content**: The `test-pronouns.js` script and the merge field functionality in `wordeditor.vue` both point to a broader pattern of implementing dynamic, context-aware content generation within the application.
*   **Project Divergence**: The distinct paths and differing feature sets between `binhendi-mcs-admin` and `binhendi-admin` suggest separate development streams or maintenance cycles for these projects.
*   **Iterative Development**: Multiple commits within short timeframes for the same file indicate an iterative development process, likely involving testing and minor adjustments.

## 13:54:18
`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/LetterTemplate.vue` (Multiple entries: 23/10/2025, 11:08:00, 11:12:16, 11:12:35, 11:13:15, 11:13:25, 13:20:39, 13:21:27, 13:21:48, 13:22:09)
This Vue component is designed for configuring and managing letter templates within an admin system. It features a tabbed interface allowing users to "CREATE NEW LETTER", "CHOOSE EXISTING LETTER", and view "Letter Key Hints".
The "CREATE NEW LETTER" and "CHOOSE EXISTING LETTER" sections include forms for defining letter properties such as:
- **Request Type** (e.g., 'NOC' which has a sub-type)
- **Hard Copy Option**: A toggle to "Allow request for hard copy".
- **Letter Category**: Multiple selection for categorizing letters.
- **Date Format**: Configurable date format for the letter.
- **Team Calendar Integration**: A toggle to "Show in Team Calendar", with a hint about using `[fromDate]` and `[toDate]`.
- **Request Limiting**: A toggle to "Limit the number of requests", which, when enabled, exposes fields for `limit_period` (e.g., "ytd" or a specific number of days), `request_limit` (maximum number of requests allowed), and `limit_exceeded_action` (e.g., "restrictCreation" or "notifyLineManager").
The "CHOOSE EXISTING LETTER" tab provides functionalities to delete letter templates and preview them (PDF Preview and Before Approve Preview) using a `CreateLetter` sub-component within dialogs. The consistent code snippets across multiple timestamps suggest a stable state or repeated logging of the same version without further modifications in these specific entries.

`/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue` (23/10/2025, 11:08:05, 11:24:08, 11:24:20)
This Vue component serves as an HR self-service portal where employees can create various requests.
- **Initial State (11:08:05):** The component supports request types like 'Leave', 'Loan', 'Education', 'WFH', 'Claim', 'Letters', and 'Passport Release', each corresponding to a dedicated creation component (e.g., `CreateLeaves`, `CreateLoan`). The 'Claim' request type includes a tooltip detailing mandatory fields and a receipt attachment limit of **2MB**. A "Team Calendar" is present for Leave and WFH requests.
- **Later Changes (11:24:08 onwards):** The primary change reflected in these later identical entries is the **reversion of the claim receipt file size limit back to 2MB** in the tooltip, after it was temporarily increased elsewhere (as seen in the `binhendi-mcs-admin` version of this file). The component's overall structure and the types of requests it handles remain consistent with the initial entry for this specific path.

`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/requests.vue` (23/10/2025, 11:13:46, 11:15:08, 11:15:28)
This is a separate `requests.vue` component, likely belonging to a different admin instance (`binhendi-mcs-admin`). It shows significant updates compared to the `binhendi-admin` version.
- **Expanded Request Types:** New request types are introduced: 'Salary Advance' (`CreateSalaryAdvance`), 'Time Off Lieu' (`CreateTimeOffLieu`), and 'Trip Request' (`CreateTripRequest`).
- **Claim Receipt Limit Increase:** The claim request tooltip explicitly states the receipt attachment size limit has been increased to **10MB**.
- **Enhanced LetterRequest Props:** The `LetterRequest` component now receives additional props: `referenceNumber`, `canRequestHardCopy`, and an explicit `selectedEmp` as `user`.
- **Team Calendar Logic:** The conditional rendering for the "Team Calendar" is made more flexible, now triggering if `showInTeamCalendar` is true OR `requestType` includes 'leave'. The calendar menu also dynamically shows "Letter Type" or "Leave Type" based on `selectedEvent.isTeamCalendar`.
The multiple identical entries here indicate the changes were applied and maintained across these timestamps.

`/Users/collin/projects/binhendi/test-pronouns.js` (23/10/2025, 11:23:34)
This is a JavaScript test script focused on context-aware pronoun capitalization. It defines a `replaceContextAwarePronoun` function that:
- Takes a text, a pronoun placeholder (e.g., `[Him/Her]`), male and female forms, and a gender.
- Replaces the placeholder with the correct gendered pronoun.
- Capitalizes the pronoun if it appears at the beginning of a sentence.
- It uses a temporary marker to avoid replacement issues.
The script includes a set of test cases to validate this functionality, demonstrating a concern for proper grammar and personalization in dynamically generated content.

**Recurring Elements and Patterns:**
- **Vue.js Development:** A strong pattern of Vue.js component development is evident, with extensive use of Vuetify components for UI consistency and functionality.
- **HR/Admin Functionality:** The changes predominantly revolve around HR self-service requests and administrative configurations, especially concerning letter generation and request management (leaves, loans, claims, etc.).
- **Dynamic Content Generation:** The `LetterTemplate.vue` component's ability to define merge fields, coupled with the `test-pronouns.js` script, highlights a system designed for generating personalized documents or communications.
- **Request Workflow Features:** Common features across request types include approval flows, application logs, and configurable limits, suggesting a robust system for managing employee requests.
- **Configuration and Customization:** Many aspects like date formats, letter categories, and request limits are configurable, indicating flexibility in system setup.

## 14:54:19
The provided log details several code changes across different projects and components, primarily focusing on request management, letter generation, and a new utility script for pronoun handling.

**File-Specific Updates:**

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/LetterTemplate.vue`**
    *   **Timestamps:** Multiple entries from 23/10/2025, 11:08:00 to 23/10/2025, 14:05:44.
    *   **Summary:** This Vue component functions as an administrative interface for configuring letter templates. It allows users to define new letter types or update existing ones, specifying attributes like sub-type, category, date format, and options such as hard copy availability, display in a team calendar, and request limitations (including limit period and action on exceedance). It integrates a `CreateLetter` component for editing and provides preview functionalities for both PDF and a "Before Approve" state. The provided code snippets are identical across all listed timestamps, suggesting non-substantive changes (e.g., whitespace, comments, or changes outside the snippet scope) or repeated saves.

*   **`/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue`**
    *   **Timestamps:** 23/10/2025, 11:08:05, 23/10/2025, 11:24:08, 23/10/2025, 11:24:20.
    *   **Summary:** This component manages various HR self-service requests. Users can select request types like Leave, Loan, Education, WFH (Work From Home), Claim, Letters, and Passport Release. The UI dynamically renders specific creation components for each request type. For claim requests, instructions mention a receipt file size limit of 2MB. A calendar view is present, specifically configured for leave and WFH requests. The code content in the provided snippets is identical across these three timestamps.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/requests.vue`**
    *   **Timestamps:** 23/10/2025, 11:13:46, 23/10/2025, 11:15:08, 23/10/2025, 11:15:28.
    *   **Significant Change at 23/10/2025, 11:13:46:**
        *   The allowed receipt file size for claim requests was increased from 2MB to **10MB**.
        *   New request types were integrated: 'Salary Advance' (using `CreateSalaryAdvance`), 'Time Off Lieu' (using `CreateTimeOffLieu`), and 'Trip Request' (using `CreateTripRequest`).
        *   The `LetterRequest` component received additional props: `referenceNumber` and `canRequestHardCopy`, and `selectedEmp="user"` was explicitly added.
        *   The logic for displaying items in the Team Calendar was generalized to include `showInTeamCalendar` in addition to 'leave' requests, and the event display in the calendar menu was made dynamic (`'Letter' : 'Leave' Type`).
    *   The code snippets for 11:15:08 and 11:15:28 are identical to the 11:13:46 version.

*   **`/Users/collin/projects/binhendi/test-pronouns.js`**
    *   **Timestamp:** 23/10/2025, 11:23:34.
    *   **Summary:** This is a newly introduced JavaScript test script. It implements a `replaceContextAwarePronoun` function, using the `lodash` library, to intelligently replace gender-neutral placeholders (e.g., `[Him/Her]`, `[His/Her]`) with gender-specific pronouns and apply correct capitalization if the pronoun appears at the beginning of a sentence. The script includes test cases to validate this context-aware replacement.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/document-editor/wordeditor.vue`**
    *   **Timestamps:** Multiple entries from 23/10/2025, 12:52:55 to 23/10/2025, 13:07:46.
    *   **Significant Change at 23/10/2025, 12:53:29:** A console log message in the `reloadTableData` function was modified to include more asterisks and "Show" prefix.
    *   **Summary:** This Vue component provides a document editing interface leveraging Syncfusion components. It supports saving documents as DOCX and downloading them as PDF. Users can insert various merge fields (text, table, image types) via list views and dialogs. The PDF download functionality makes an API call to an external document editor service (`api/DocumentEditor/DocToPDF`) for conversion. The `reloadTableData` function dynamically populates the merge field lists. Beyond the console log change, subsequent code snippets are identical.

*   **`/Users/collin/projects/binhendi/binhendi-api/src/services/letter.service.js`**
    *   **Timestamps:** 23/10/2025, 13:20:01, 23/10/2025, 13:20:23, 23/10/2025, 14:05:52.
    *   **Summary:** This backend service handles the core logic for generating letter content for both preview and PDF output. It includes functions to convert image URLs to base64, combine HTML components, and apply various styles and dynamic data. It involves HTML entity decoding and significant string manipulation to format letters. The provided code snippets are identical across these timestamps.

*   **`/Users/collin/projects/binhendi/binhendi-api/src/services/letter_request.service.js`**
    *   **Timestamps:** Multiple entries from 23/10/2025, 13:22:56 to 23/10/2025, 14:30:50.
    *   **Summary:** This service manages the entire lifecycle of letter requests within the API. It processes new requests by fetching user, company, and letter configuration data. It dynamically populates extensive letter fields (e.g., passport details, salary, allowances, manager information) and constructs multi-level approval flows, including validation of approvers. A key feature is the implementation of request limits, where it checks if a user has exceeded predefined limits for specific letter types within a given period (e.g., year-to-date) and applies actions like restricting creation or notifying managers. It also generates unique identifiers for requests and integrates with helper functions for dynamic letter configuration. The provided code snippets are identical across all listed timestamps.

*   **`/Users/collin/projects/binhendi/binhendi-api/src/controllers/letter.controller.js`**
    *   **Timestamp:** 23/10/2025, 14:06:30.
    *   **Summary:** This controller handles the downloading and previewing of letters. It retrieves letter request, applicant, and company details, then utilizes a PDF generation library (`pdf-creator-node`) to convert HTML content into PDF. It includes helper functions for internal letter preview generation, which populates letter fields with additional data and uses an external document editor API to replace content and produce HTML. The download function checks if a PDF already exists to avoid redundant generation. The provided code snippet shows no changes.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/letter.vue`**
    *   **Timestamps:** 23/10/2025, 14:05:33, 23/10/2025, 14:31:20.
    *   **Summary:** This component enables HR self-service users to view their existing letter requests and initiate new ones. It displays a list of requests, offering options to see detailed information or a preview. A `LetterRequest` component is used for new applications, showing a loading indicator during preview generation. The component also uses a `PreviewLetter` component (dynamically imported) for displaying the letter content and provides snackbar feedback. The code snippets are identical across these timestamps.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/team-central/requests.vue`**
    *   **Timestamps:** Multiple entries from 23/10/2025, 14:05:17 to 23/10/2025, 14:47:07.
    *   **Summary:** This component offers a "Team Central" interface for managers and administrators to manage various employee requests. It supports creating requests such as Leave, Time Off Lieu, WFH, Salary Advance, Claim, Attendance, Letters, Salary Adjustment, and Trip Request for selected employees. The interface includes a list view for "All Requests" or "All Pending Requests" with a search function, and a section for support tickets. It dynamically renders different request components and reuses the `LetterRequest` component with manager/admin-specific props. The code content in the provided snippets is identical across all listed timestamps.

**Patterns and Recurring Elements:**

*   **Request-Driven Architecture:** A strong pattern across both `binhendi-admin` and `binhendi-mcs-admin` is the focus on various types of employee requests (e.g., letters, leave, loans, claims, WFH). These requests often involve multi-level approval flows and configurable settings.
*   **Letter Generation and Management:** A significant and recurring theme is the robust implementation of letter generation. This includes:
    *   **Dynamic Fields:** Letters incorporate dynamic merge fields for text, tables, and images, populated with employee-specific data.
    *   **Styling and Previews:** Detailed control over letter styling for both on-screen previews and PDF output, including header, footer, date positioning, and signatory information.
    *   **Request Limits:** Backend logic enforces limits on the number of letter requests an employee can make within certain periods, with configurable actions (e.g., restrict or notify).
*   **Component Reusability:** Core functionality related to letter requests (e.g., `CreateLetter`, `LetterRequest`, `PreviewLetter`) is encapsulated in reusable Vue components, facilitating consistent UI/UX and development efficiency across different user roles (self-service, team central, admin central).
*   **Backend-Frontend Integration for Document Processing:** The system uses a dedicated document editor service for converting rich text content into PDF, with the frontend (`wordeditor.vue`) handling user interaction and the backend (`letter.service.js`, `letter.controller.js`) orchestrating the conversion via an API endpoint.
*   **Environment Variable Usage:** API endpoints and AWS configurations are consistently managed through environment variables (`process.env`), indicating a standard practice for managing sensitive or environment-specific settings.
*   **External Library Reliance:** Libraries like `moment-timezone`, `lodash`, `mongoose`, `axios`, `pdf-creator-node`, `he`, `@syncfusion/ej2-vue-documenteditor`, `countries-list`, and `numbers2words` are frequently used, indicating a reliance on established tools for date handling, utility functions, database interaction, HTTP requests, PDF generation, HTML parsing, and rich text editing.
*   **Frequent, Non-Substantive Commits:** A notable pattern is numerous log entries for the same file path and identical code snippets within very short timeframes. This suggests frequent saves or automated version control commits that captured minor, unrecorded changes (e.g., whitespace adjustments, comment changes, or modifications outside the provided snippets) rather than significant functional alterations.

## 15:54:32
The changes log for October 23, 2025, reveals significant development across multiple components and services, primarily focused on enhancing and expanding a letter request and generation system within the `binhendi` project, including both `binhendi-admin` and `binhendi-mcs-admin` applications.

**File-Specific Updates:**

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/LetterTemplate.vue` (multiple updates between 11:08:00 and 14:05:44)**:
    This Vue component, responsible for letter template configurations, received numerous small updates. The core functionality centers around creating and updating letter templates, allowing administrators to define letter types, sub-types (e.g., for 'NOC'), categories, and date formats. A key addition is the "Limit the number of requests" feature, which enables setting request limits over specified periods (e.g., year-to-date or custom days) and configuring actions for when these limits are exceeded. The component also supports various preview options (PDF, before approval) and integrates with a `CreateLetter` editor.

*   **`/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue` (updates at 11:08:05 and 11:24:08)**:
    This HR self-service request component for the `binhendi-admin` project saw two notable updates. Initially, at 11:08:05, it provided a UI for creating requests such as Leave, Loan, Education, WFH, Claim, Letters, and Passport Release, with a "Team Calendar" for Leave and WFH. The claim request tooltip indicated a 2MB receipt file size limit. By 11:24:08, the component reverted the claim receipt file size limit from 10MB (as seen in `binhendi-mcs-admin` version at 11:13:46) back to 2MB. It also streamlined the `LetterRequest` component props and removed conditional rendering for `CreateSalaryAdvance`, `CreateTimeOffLieu`, and `CreateTripRequest`, simplifying the available request types and making the "Team Calendar" exclusively for 'leave' requests.

*   **`/Users/collin/projects/binhendi/test-pronouns.js` (update at 11:23:34)**:
    A new Javascript test script was added. This script implements and tests context-aware pronoun capitalization using `lodash`. The `replaceContextAwarePronoun` function handles placeholders like `[Him/Her]`, replacing them with gender-specific pronouns and correctly capitalizing them if they appear at the beginning of a sentence. The script includes multiple test cases to validate its logic.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/requests.vue` (multiple updates between 11:13:46 and 11:15:28)**:
    This `hr-self-service/requests.vue` component, specific to the `binhendi-mcs-admin` project, was updated. At 11:13:46, it introduced expanded request types including Salary Advance, Time Off Lieu, and Trip Request, in addition to existing ones like Leave, Loan, Education, WFH, Claims, Letters, and Passport Release. Significantly, the claim receipt file size limit was increased to 10MB. The "Team Calendar" functionality was made more flexible, allowing "Letter" requests to also be displayed if configured for team calendar visibility.

*   **`/Users/collin/projects/binhendi/binhendi-api/src/services/letter.service.js` (multiple updates between 13:20:01 and 15:28:47)**:
    This API service, central to letter generation, received iterative updates. At 13:20:01, it provided functions for generating HTML for both on-screen previews (`combineHtmlPreview`) and PDF exports (`combineHtmlPDF`). `combineHtmlPDF` performs HTML entity decoding, cleans up redundant `<p>` tags for better formatting, embeds a Google Font, and converts image links to base64 for PDF embedding. The service relies on AWS S3 for storage, utilizing environment variables for credentials.

*   **`/Users/collin/projects/binhendi/binhendi-api/src/controllers/letter.controller.js` (update at 14:06:30)**:
    This controller was updated to manage letter downloads and previews. The `letterDownload` and `internalLetterDownload` functions handle the end-to-end process of generating PDFs, including fetching user/company data, applying dynamic headers/footers (with base64 encoded images), using `pdf-creator-node` for PDF creation, and uploading the final document. The `internalLetterPreview` function enriches letter fields with a wide array of user, employment, salary, banking, and demographic data before sending the content to an external DocumentEditor service for merge field replacement.

*   **`/Users/collin/projects/binhendi/binhendi-api/src/services/letter_request.service.js` (multiple updates between 13:22:56 and 14:30:50)**:
    This service handles the creation of letter requests. A major update at 13:22:56 introduced request limit management, allowing configurations for request quotas over periods (e.g., year-to-date) and actions for exceeding limits (e.g., restricting creation or notifying managers). It also refined the approval flow logic, validating approvers, dynamically assigning managers, and initializing approval statuses. The service extensively populates `reqBody.letter_fields` with detailed user and company information and integrates visa sponsor-specific header/footer images.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/team-central/requests.vue` (multiple updates between 14:05:17 and 14:55:25)**:
    This component, likely for managers in `binhendi-mcs-admin`, was updated at 14:05:17. It supports creating a wide array of requests (Leave, Time Off Lieu, WFH, Salary Advance, Claim, Attendance, Letters, Salary Adjustment, Trip Requests) on behalf of employees, with employee selection via autocomplete. It includes search and filtering capabilities and a dedicated "support" view with its own search and sort options. The "Team Calendar" displays specifically 'wfh' requests.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/admin-central/requests.vue` (updates at 14:05:23 and 15:29:22)**:
    An admin-focused component for managing requests in `binhendi-mcs-admin` was updated at 14:05:23. It provides options for creating various requests (including Passport Safekeep, Loan) on behalf of employees, featuring specialized employee filtering. The `LetterRequest` component receives `adminCentral: true` and props for `referenceNumber` and `canRequestHardCopy`. UI changes include a "Search User" placeholder.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/letter.vue` (updates at 14:05:33 and 14:31:20)**:
    This component specifically handles letter requests in the `binhendi-mcs-admin` self-service portal. At 14:05:33, it offered a user interface to view existing letter requests and apply for new ones. It dynamically renders letter content using a `PreviewLetter` component, handling loading states and snackbar notifications. The `LetterRequest` component is extensively parameterized for dynamic content and styling.

*   **`/Users/collin/projects/binhendi/binhendi-mcs-admin/plugins/general.js` (update at 15:15:05)**:
    This utility file was updated to include a comprehensive set of helper functions. These functions cover date formatting, various color and status indicators for different request types (leaves, payroll, performance, tasks, user status), user detail retrieval, salary configuration, performance metric formatting, number formatting, dynamic scale creation, and text manipulation. It integrates external libraries such as `moment`, `XLSX`, `file-saver`, and `number-to-words`.

**Timestamps of Significant Changes:**

The timestamps on October 23, 2025, show concentrated development activity throughout the day:
*   **Morning (11:08:00 - 11:24:08)**: Initial setup and core features for letter template management (`LetterTemplate.vue`), HR self-service requests (`requests.vue` in both admin projects), and the introduction of a pronoun capitalization test script (`test-pronouns.js`). A key divergence regarding claim receipt file sizes (2MB vs. 10MB) is seen between the `binhendi-admin` and `binhendi-mcs-admin` versions of `requests.vue`.
*   **Early Afternoon (13:20:01 - 14:30:50)**: Intense development in the API services for letter generation (`letter.service.js`, `letter_request.service.js`) and the letter controller (`letter.controller.js`). This includes the implementation of request limits, approval flows, comprehensive data population for letters, and PDF generation logic.
*   **Mid-Afternoon (14:05:17 - 15:29:22)**: Further refinement of UI components in `binhendi-mcs-admin` for team central (`requests.vue`), admin central (`requests.vue`), and HR self-service letter management (`letter.vue`), alongside an update to the `general.js` utility plugin.

**Patterns and Recurring Elements:**

*   **Vue.js and Vuetify**: The frontend components consistently use Vue.js with the Vuetify framework for building the user interface, indicating a standardized approach to UI development.
*   **Letter Request System**: A primary focus is the development of a robust and configurable letter request system across various user roles (employee self-service, manager, admin). This involves interconnected UI components for configuration, request creation, viewing, and backend services for data processing, approval, preview, and PDF generation.
*   **Dynamic Data and Templating**: The system heavily relies on dynamic data population into letter templates, utilizing merge fields for user, company, and request-specific information.
*   **Preview and Export**: Consistent functionality for generating both on-screen HTML previews and downloadable PDF documents for letters is a recurring pattern.
*   **Request Types**: The various `requests.vue` components demonstrate a modular approach to handling diverse HR request types (leave, claims, loans, WFH, etc.), often conditionally rendering specific sub-components.
*   **Utility Functions**: A centralized `general.js` plugin provides a wide array of reusable helper functions, promoting code consistency and reducing redundancy across components.
*   **Environment Variable Usage**: Backend services utilize `process.env` for sensitive configurations like AWS keys and external service URLs, following best practices for security and deployability.
*   **Iterative Development**: The numerous closely spaced timestamps, especially for frontend `.vue` files and backend service files, suggest an iterative development workflow with frequent saves or small, focused changes.

## 20:42:43
The provided log details changes across several JavaScript and Vue files within the `binhendi` project, specifically focusing on `binhendi-mcs-admin`, `binhendi-admin`, and `binhendi-api` directories. The changes span from `23/10/2025, 11:08:00` to `23/10/2025, 15:29:22`.

**File-Specific Updates:**

*   **/Users/collin/projects/binhendi/binhendi-mcs-admin/components/configurations/LetterTemplate.vue** (Multiple changes between 11:08:00 and 14:05:44):
    *   This Vue component, responsible for letter template configuration in the admin panel, saw numerous minor updates.
    *   There are extensive conditional renderings (`v-if`, `v-else-if`) for `CreateLetter` components based on `letteredit`, `lettereditbefore`, and `letterAdd` states, suggesting different editing modes (edit current, edit before approval, add new).
    *   Tabs for "CREATE NEW LETTER", "CHOOSE EXISTING LETTER", and "Letter Key Hints" indicate functionality for managing letter templates.
    *   The "CREATE NEW LETTER" section includes fields for choosing/entering letter type and sub-type (especially for 'NOC'), letter category, date format, and switches for "Allow request for hard copy", "Show in Team Calendar", and "Limit the number of requests".
    *   If "Limit the number of requests" is enabled, fields for `limit_period`, `request_limit`, and `limit_exceeded_action` appear.
    *   Commented-out sections for "Add Letter Key Hints" suggest this functionality might be under development or was previously implemented and then refined.
    *   The "CHOOSE EXISTING LETTER" section provides options to delete, update, and preview PDF/Before Approve versions of existing letter requests.
    *   No significant structural or functional changes are evident across its multiple entries, suggesting repeated saves during active development/testing, or minor formatting adjustments.

*   **/Users/collin/projects/binhendi/binhendi-admin/components/hr-self-service/requests.vue** (Multiple changes between 11:08:05 and 11:24:20):
    *   This Vue component manages various HR self-service requests (Leave, Loan, Education, WFH, Claim, Letters, Passport Release).
    *   A significant change occurred at `23/10/2025, 11:13:46`, where the maximum file size for claim receipts in the tooltip changed from **2MB to 10MB**.
    *   New request types `Salary Advance`, `CreateTimeOffLieu`, and `CreateTripRequest` were introduced and conditionally rendered in the UI.
    *   The `LetterRequest` component now passes additional props: `referenceNumber`, `canRequestHardCopy`, `selectedEmp`, `totalFixedWord`, `basicSalaryInWords`, `loanAmountInWords`, `compensationTable`, `personalLoanTable`, `personalLoanTable2`, `personalLoanTable3`.
    *   The conditional rendering for the "Team Calendar" was updated from `requestType?.toLowerCase().includes('leave') && leavePlanner == true` to `(showInTeamCalendar || requestType?.toLowerCase().includes('leave')) && leavePlanner == true`, indicating that the team calendar can now be displayed based on a new `showInTeamCalendar` flag in addition to leave requests.
    *   The calendar event display for leave type now dynamically shows "Letter Type" or "Leave Type" based on `selectedEvent.isTeamCalendar`.
    *   The entry at `23/10/2025, 11:24:08` reverted the claim receipt file size back to **2MB**. This was then reverted back to **10MB** in a later entry in `binhendi-mcs-admin/components/hr-self-service/requests.vue`. This suggests a back-and-forth decision or a merge conflict resolution regarding the file size limit.

*   **/Users/collin/projects/binhendi/test-pronouns.js** (`23/10/2025, 11:23:34`):
    *   A new JavaScript test script was added.
    *   Its purpose is to test `context-aware pronoun capitalization`.
    *   It defines a `replaceContextAwarePronoun` function that takes text, a placeholder (e.g., `[Him/Her]`), male/female forms of the pronoun, and a gender, then replaces the placeholder with the correctly capitalized pronoun based on its position (beginning of a sentence).
    *   Uses `lodash` for `_.capitalize`.
    *   Includes multiple test cases to verify the function's behavior.

*   **/Users/collin/projects/binhendi/binhendi-mcs-admin/components/document-editor/wordeditor.vue** (Multiple changes between 12:52:55 and 13:07:46):
    *   This Vue component integrates a document editor (likely Syncfusion's Document Editor).
    *   It features functionality to save the document, download as DOCX or PDF, and close the editor.
    *   There are UI sections for inserting "Text Field", "Table Field", and "Image Field" merge fields, with pop-ups to add new fields of each type.
    *   A `downloadProgress` loading indicator was added for PDF downloads.
    *   The `reloadTableData` method logs "Show Key hints for letters********:" when updating dynamic fields, which suggests debugging or monitoring of letter key hint functionality.
    *   Similar to `LetterTemplate.vue`, multiple minor saves without significant functional diffs.

*   **/Users/collin/projects/binhendi/binhendi-api/src/services/letter.service.js** (Multiple changes between 13:20:01 and 15:28:47):
    *   This service handles HTML generation for letter previews and PDFs.
    *   It decodes HTML entities using `he.decode()` for `LetterAddresseRepalce` and `LetterContentRepalce` when combining HTML for PDF, suggesting an issue with HTML entity rendering that was addressed.
    *   It processes `pdfStyles` and `previewStyles` for date, addressee, subject, signature, stamp, header, and footer.
    *   It converts images to Base64 for PDF generation (`toBase64` function) if `pdfStyles` require them, while `previewStyles` directly use image links.
    *   CSS links for 'EB Garamond' font are added to the PDF HTML at `23/10/2025, 13:20:01`.
    *   Minor style adjustments (e.g., `margin:0; padding: 0;`) were made for specific HTML elements in the PDF generation.
    *   No major functional additions, primarily refinements to HTML generation and styling.

*   **/Users/collin/projects/binhendi/binhendi-api/src/services/letter_request.service.js** (Multiple changes between 13:22:56 and 14:30:50):
    *   This service handles the creation of letter requests.
    *   It now includes logic to check for and enforce request limits based on `is_limit_required`, `request_limit`, `limit_period` ("ytd" or days), and `limit_exceed_action` ("restrictCreation" or "notifyLineManager").
    *   The approval flow (`approverArray`) dynamically adjusts required approver counts based on unique approvers.
    *   It populates `reqBody.letter_fields` with a large number of dynamic fields (e.g., user details, passport info, salary components, manager details, company name, date, etc.), including specific fields for "Custom Letter Requests".
    *   It also checks for visa sponsor requirements and applies `headerText`, `footerText`, `headerImage`, and `footerImage` from `visaSponsorConfig`.
    *   No significant functional changes are introduced in its multiple logs, mostly re-saves or minor adjustments.

*   **/Users/collin/projects/binhendi/binhendi-api/src/controllers/letter.controller.js** (`23/10/2025, 14:06:30`):
    *   This controller handles letter download functionality.
    *   It now includes an `internalLetterPreview` function to fetch the content before PDF generation.
    *   It adds a check for `letter_request.pdf_url` to return existing PDFs if available, optimizing downloads.
    *   Header and footer images are now converted to Base64 and embedded in the PDF HTML if they exist.
    *   The PDF generation border has been changed from `top: '0px'` to `top: '5mm'` for internal downloads.

*   **/Users/collin/projects/binhendi/binhendi-mcs-admin/components/hr-self-service/letter.vue** (Multiple changes between 14:05:33 and 14:31:20):
    *   This Vue component manages self-service letter applications.
    *   A new `PreviewLetter` component (dynamically imported) is used for rendering letter previews instead of a `LetterPreview` component.
    *   The `letterRequest` component now takes `letterTemplate` as a prop.
    *   It passes a wide array of props to `LetterRequest` for dynamic data population (e.g., `totalFixedWord`, `basicSalaryInWords`, `loanAmountInWords`, `compensationTable`, `personalLoanTable` variants).
    *   The conditional rendering for showing the Team Calendar was changed to `(showInTeamCalendar || requestType?.toLowerCase().includes('leave')) && leavePlanner == true`, indicating the new `showInTeamCalendar` flag from the API changes.
    *   The display for leave type in the calendar menu now correctly distinguishes between 'Letter Type' and 'Leave Type' using `selectedEvent.isTeamCalendar`.
    *   No significant functional changes are visible across the multiple entries, suggesting minor tweaks.

*   **/Users/collin/projects/binhendi/binhendi-mcs-admin/components/team-central/requests.vue** (Multiple changes between 14:05:17 and 14:55:25):
    *   This component manages requests in the "Team Central" admin view.
    *   It adds `CreateSalaryAdvance`, `CreateTimeOffLieu`, `CreateTripRequest` components, mirroring the additions in `hr-self-service/requests.vue`.
    *   The `LetterRequest` component also receives the same extended set of props for dynamic data as seen in `hr-self-service/requests.vue`.
    *   The file size for claim receipts in the tooltip is consistently **10MB** in this component.
    *   Search functionality (`searchRequests`, `searchFn()`) and sorting (`selectedSort`) for requests are implemented in the UI.
    *   Similar to other Vue files, repetitive save logs indicate continuous development.

*   **/Users/collin/projects/binhendi/binhendi-mcs-admin/components/admin-central/requests.vue** (Multiple changes between 14:05:23 and 15:29:22):
    *   This component handles requests in the "Admin Central" view.
    *   It includes `CreatePassportSafekeep`, `CreateLoan`, `CreateSalaryAdjustment`, `CreateSalaryAdvance`, and `CreateTripRequest` components for different request types, expanding administrative capabilities.
    *   The `LetterRequest` component here also receives the comprehensive set of dynamic data props, consistent with other request-related Vue components.
    *   The claim receipt file size in the tooltip is consistently **10MB**.
    *   Includes a search bar (`searchRequests`) with `searchFn()` for filtering requests.
    *   Multiple entries suggest iterative changes.

*   **/Users/collin/projects/binhendi/binhendi-mcs-admin/plugins/general.js** (`23/10/2025, 15:15:05`):
    *   This plugin provides utility functions.
    *   It adds `converter = require('number-to-words')`, indicating new functionality to convert numbers to words.
    *   New utility functions like `getFixedSalaryConfig`, `variableSalaryConfig` are added, suggesting new salary-related configurations.
    *   `getPriorityColor`, `getPriorityFlagImage`, `getPriorityColorText`, `getPerformanceStatusColor`, `getTaskStatusColor`, `getUserStatusChipColor` functions are added/updated for consistent styling and display of statuses and priorities across the application.
    *   `formatPerformanceMetricValue` handles formatting for different metric types (Amount, Quantity, Percentage).
    *   `keyNameRegexPayroll` and `keyNameRegex` are added for text formatting.

**Timestamps of Significant Changes:**

*   `23/10/2025, 11:13:46`: Increase in claim receipt file size limit to 10MB in `binhendi-admin/components/hr-self-service/requests.vue`.
*   `23/10/2025, 11:23:34`: Introduction of context-aware pronoun capitalization test script in `test-pronouns.js`.
*   `23/10/2025, 11:24:08`: Reversion of claim receipt file size to 2MB in `binhendi-admin/components/hr-self-service/requests.vue`.
*   `23/10/2025, 13:20:01`: Addition of font styling (`EB Garamond`) and HTML entity decoding (`he.decode`) for PDF generation in `binhendi-api/src/services/letter.service.js`.
*   `23/10/2025, 13:22:56`: Implementation of request limit logic and dynamic field population for letter requests in `binhendi-api/src/services/letter_request.service.js`.
*   `23/10/2025, 14:05:17` onwards: Consistent expansion of request types (Salary Advance, Time Off Lieu, Trip Request) across `binhendi-admin`, `binhendi-mcs-admin/hr-self-service`, `binhendi-mcs-admin/team-central`, and `binhendi-mcs-admin/admin-central` requests components.
*   `23/10/2025, 14:06:30`: Optimization for PDF downloads with existing URLs and improved header/footer handling in `binhendi-api/src/controllers/letter.controller.js`.
*   `23/10/2025, 15:15:05`: Addition of `number-to-words` converter and numerous utility functions in `binhendi-mcs-admin/plugins/general.js`.

**Patterns and Recurring Elements:**

*   **Letter Request Refinements:** There's a consistent focus on enhancing letter request functionality across both admin and self-service interfaces. This includes detailed configuration options (type, sub-type, category, date format, hard copy, team calendar integration, request limits, visa sponsor) and robust document generation capabilities (PDF, DOCX, preview). The use of dynamic "merge fields" (text, table, image) in `wordeditor.vue` and the extensive population of `letter_fields` in `letter_request.service.js` underscore a system designed for highly customizable letter generation.
*   **Request Management Expansion:** Across `requests.vue` components in different administration roles (`binhendi-admin`, `binhendi-mcs-admin/hr-self-service`, `binhendi-mcs-admin/team-central`, `binhendi-mcs-admin/admin-central`), there's a recurring pattern of adding support for new request types (e.g., Salary Advance, Time Off Lieu, Trip Request, Passport Safekeep, Salary Adjustment) and centralizing their management.
*   **UI/UX Enhancements (Vue Components):** All Vue components (`.vue` files) frequently use Vuetify components (`v-card`, `v-row`, `v-col`, `v-select`, `v-autocomplete`, `v-switch`, `v-tooltip`, `v-dialog`, `v-btn`, `v-icon`, `v-img`, `v-text-field`, `v-date-picker`, `v-progress-circular`, `v-list`, `v-tabs`) to build a consistent and interactive user interface. Repeated patterns like `max-height:600px` for scrollable areas are also common.
*   **Dynamic Data and Styling:** Many components pass comprehensive sets of props to child components (`:configData`, `:companyData`, `:users`, `:user`, `:selectedEmp`, `:letterRequestList`, `:computeCompanyLetterImages`, `:computeLetterPDFStyles`, etc.), indicating a highly dynamic and data-driven application architecture. Styling (`previewStyles`, `pdfStyles`) is also highly configurable.
*   **Debugging and Logging:** Comments like `//FIXME - Add configData to convert designation to title` and `console.log('#log', error)` or `console.log('Show Key hints for letters********:', elements.text);` suggest active development, bug fixing, and monitoring in the API and UI layers.
*   **File Size Limits:** The back-and-forth change of the claim receipt file size limit (2MB to 10MB and back) indicates a potentially debated or iterative requirement.
*   **Pronoun Handling:** The dedicated test script for context-aware pronoun capitalization highlights an effort towards more grammatically correct and user-friendly generated content, especially for customizable text in letters or documents.
*   **External Libraries:** Reliance on external libraries like `moment-timezone`, `lodash`, `mongoose`, `axios`, `pdf-creator-node`, `number-to-words`, `file-saver`, `XLSX`, and Syncfusion's `ej2-vue-documenteditor` is evident across the codebase, indicating a preference for leveraging existing solutions for complex tasks.
*   **API Service Logic:** The API services (`letter.service.js`, `letter_request.service.js`) heavily involve fetching user and company data, applying complex business logic (e.g., approval flows, request limits, dynamic field population based on configuration), and interacting with AWS for storage, all centered around letter generation and request processing.